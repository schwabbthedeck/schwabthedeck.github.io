{"componentChunkName":"component---src-templates-blog-post-template-js","path":"/blog/instagram-widget/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Instagram Widget\",\n  \"date\": \"2019-07-23T00:00:00.000Z\",\n  \"published\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"As of this writing, Instagram has an API available that gets the first post from any public account. I was asked to embed the most recent post from a public Instagram account automatically on a page and stumbled into finding the Instagram API. It was a pleasant surprise that it didn't require authentication or any hassle at all. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://janeschwab.co/InstagramWidget/\"\n  }), \"Here's the working example that loads the latest post from my cats' Instagram\"), \".\"), mdx(\"p\", null, \"In my \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/schwabthedeck/InstagramWidget\"\n  }), \"GitHub repo\"), \", I have two HTML files. One (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/schwabthedeck/InstagramWidget/blob/master/EmbedInstagramWidget.html\"\n  }), \"EmbedInstagramWidget\"), \") contains all the code to embed it directly by itself. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" is the standard approach and loads \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.js\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"styles.css\"), \". I've included all the code below but feel free to grab it directly from GitHub if you want.\"), mdx(\"p\", null, \"I used the HTML to just create a element for every aspect to be populated by the information from Instagram. Below is just the body of my HTML file. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<div class=\\\"instagram-container\\\">\\n  <div id='instagram-post'>\\n    <div class='header'></div>\\n    <div class='imageContent'></div>\\n    <div class='hoverCard'></div>\\n    <div class='feedback'></div>\\n    <div class='likes'></div>\\n    <div class='instagramCaption'></div>\\n    <div class='footer'></div>\\n    <div class='error'></div>\\n  </div>\\n</div>\\n\")), mdx(\"p\", null, \"In the JavaScript, I basically call the API and get the information and then walk through populating each part of the page with it. The most important thing to update is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"instagramUsername\"), \" variable.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"var instagramUsername = 'minneyandmaxthecats'\\nvar httpRequest\\nfunction GetLatestPost() {\\n  var url = 'https://www.instagram.com/' + instagramUsername + '/?__a=1';\\n  httpRequest = new XMLHttpRequest()\\n  if (!httpRequest) {\\n    alert('Giving up :( Cannot create an XMLHTTP instance')\\n  }\\n  httpRequest.onreadystatechange = requestHandleStateChange\\n  httpRequest.open('GET', url)\\n  httpRequest.send()\\n}\\n\\nfunction numberWithCommas(x) {\\n  return x.toString().replace(/\\\\B(?=(\\\\d{3})+(?!\\\\d))/g, \\\",\\\");\\n}\\n\\nfunction requestHandleStateChange() {\\n  if (httpRequest.readyState === XMLHttpRequest.DONE) {\\n    if (httpRequest.status === 200) {\\n      onQuerySucceeded(JSON.parse(httpRequest.responseText))\\n    } else {\\n      onQueryFailed()\\n    }\\n  }\\n}\\n\\nfunction onQuerySucceeded(data) {\\n  // need to build the content for the web part\\n  var userInformation = data.graphql.user;\\n  var latestPost = userInformation.edge_owner_to_timeline_media.edges[0].node;\\n  var embedUrlRedirect = 'https://www.instagram.com/' + instagramUsername + '/?utm_source=ig_embed'\\n\\n  // header\\n  var headerHTML = document.getElementsByClassName('header')[0];\\n  var headerInnerHTML = '' +\\n    '<div class=\\\"avatarContainer\\\">' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">' +\\n    '<img src=\\\"' + userInformation.profile_pic_url + '\\\" alt=\\\"' + instagramUsername + '\\\">' +\\n    '</a>' +\\n    '</div>' +\\n    '<div class=\\\"headerTextContainer\\\">' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">' +\\n    '<span class=\\\"username\\\">' + instagramUsername + '</span>' +\\n    '</a>' +\\n    '<div class=\\\"followerCount\\\">' +\\n    '<span>' + numberWithCommas(userInformation.edge_followed_by.count) + ' followers</span>' +\\n    '</div>' +\\n    '</div>' +\\n    '<div class=\\\"viewProfileButtonContainer\\\">' +\\n    '<a class=\\\"ViewProfileButton\\\" href=\\\"' + embedUrlRedirect + '\\\">View Profile</a>' +\\n    '</div>' +\\n    '';\\n  headerHTML.innerHTML = headerInnerHTML;\\n\\n  // imageContent\\n  var imageContentHTML = document.getElementsByClassName('imageContent')[0];\\n  var imageContentInnerHTML = '' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">' +\\n    '<img src=\\\"' + latestPost.thumbnail_src + '\\\" alt=\\\"' + latestPost.accessibility_caption + '\\\">' +\\n    '</a>' +\\n    '';\\n  imageContentHTML.innerHTML = imageContentInnerHTML;\\n\\n  // hoverCard\\n  var hoverCardHTML = document.getElementsByClassName('hoverCard')[0];\\n  var hoverCardInnerHTML = '' +\\n    '<div class=\\\"primaryText\\\">' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">View More on Instagram</a>' +\\n    '</div>' +\\n    '';\\n  hoverCardHTML.innerHTML = hoverCardInnerHTML;\\n\\n  // likes\\n  var likesHTML = document.getElementsByClassName('likes')[0];\\n  var likesInnerHTML = '' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">' + numberWithCommas(latestPost.edge_liked_by.count) + ' likes</a>' +\\n    '';\\n  likesHTML.innerHTML = likesInnerHTML;\\n\\n  // caption\\n  var captionHTML = document.getElementsByClassName('instagramCaption')[0];\\n  var captionInnerHTML = '' +\\n    '<a href=\\\"' + embedUrlRedirect + '\\\" target=\\\"_blank\\\">' + instagramUsername + '</a>' +\\n    '<br><br>' + latestPost.edge_media_to_caption.edges[0].node.text +\\n    '';\\n  captionHTML.innerHTML = captionInnerHTML;\\n}\\n\\nfunction onQueryFailed() {\\n  var errorContainer = document.getElementsByClassName('error')[0];\\n  errorContainer.innerHTML = '<div>An error occured while retrieving ' + instagramUsername + '\\\\'s latest post.</div><div>To view the latest posts, click <a href=\\\"https://www.instagram.com/' + instagramUsername + '\\\" target=\\\"_blank\\\">here</a> to view ' + instagramUsername + '\\\\'s profile.</div>';\\n}\\n\\nGetLatestPost();\\n\")), mdx(\"p\", null, \"The styles can be updated anyway you want them to appear. I set the background color, link color, and font style to match my website styles. They can be anything you want them to be :)\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-css\"\n  }), \"html body {\\n  font-family: 'Roboto Slab', serif;\\n  background-color: #343a40;\\n}\\na {\\n  color: #3f88c5;\\n  text-decoration: none;\\n}\\na:hover {\\n  text-decoration: underline;\\n}\\n.instagram-container {\\n  width: 100%;\\n}\\n#instagram-post {\\n  width: 530px;\\n  margin: auto;\\n  background: #fff;\\n  border-radius: 3px;\\n  border: 1px solid rgb(219, 219, 219);\\n  box-shadow: none;\\n  display: block;\\n  padding: 0px;\\n}\\n/* header styles */\\n#instagram-post .header {\\n  height: 54px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  padding: 10px\\n}\\n#instagram-post .header .avatarContainer {\\n  padding: 2px;\\n  border-radius: 50%;\\n}\\n#instagram-post .header .avatarContainer img{\\n  border-radius: 50%;\\n  width: 30px;\\n  height: 30px;\\n}\\n#instagram-post .header .headerTextContainer {\\n  margin: 0 10px;\\n  overflow: hidden;\\n  flex-shrink: 1;\\n  flex-grow: 1;\\n}\\n#instagram-post .header .headerTextContainer .username {\\n  font-weight: 600;\\n  text-overflow: ellipsis;\\n  width: calc(100% - 21px);\\n  white-space: nowrap;\\n  display: block;\\n}\\n#instagram-post .header .headerTextContainer .followerCount {\\n  color: #999;\\n  line-height: 14px;\\n  font-size: 12px;\\n}\\n#instagram-post .header .viewProfileButtonContainer {\\n  margin-left: 15px;\\n  flex: 1 1 auto;\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: flex-end;\\n}\\n#instagram-post .header .viewProfileButtonContainer a.ViewProfileButton{\\n  margin-left: 10px;\\n  background-color: #6D6E71;\\n  border-radius: 3px;\\n  color: #fff;\\n  font-weight: 600;\\n  padding: 5px 12px;\\n  text-decoration: none;\\n}\\n#instagram-post .header .viewProfileButtonContainer a.ViewProfileButton:hover{\\n  background-color: #333;\\n  text-decoration: none;\\n}\\n/* image styles */\\n#instagram-post .imageContent {\\n  position: relative;\\n  padding-bottom: 100%;\\n}\\n#instagram-post .imageContent a {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  background-color: #fafafa;\\n}\\n#instagram-post .imageContent a > img {\\n  width: 100%;\\n}\\n/* hoverCard styles */\\n#instagram-post .hoverCard .primaryText {\\n  background-color: #fff;\\n  border-bottom: 1px solid #efefef;\\n  height: 44px;\\n  margin-left: 12px;\\n  margin-right: 12px;\\n}\\n#instagram-post .hoverCard .primaryText a {\\n  font-weight: 600;\\n  font-size: 14px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  line-height: 45px;\\n}\\n/* likes styles */\\n#instagram-post .likes {\\n  padding: 6px 10px;\\n}\\n#instagram-post .likes a {\\n  font-weight: 600;\\n  color: #262626;\\n  text-decoration: none;\\n  font-size: 14px;\\n  \\n}\\n/* caption */\\n#instagram-post .instagramCaption {\\n  padding:0 10px 6px;\\n}\\n#instagram-post .instagramCaption a {\\n  font-weight: 600;\\n}\\n\")), mdx(\"p\", null, \"This was a quick and easy project I tackled but was really fun, too. I was glad I was asked to add this functionality to a page for someone. Feel free to use this for yourself. And \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/contact/\"\n  }), \"let me know\"), \" if you have any thoughts about it or run into issues with it.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Instagram Widget","date":"2019-07-23T00:00:00.000Z"}}},"pageContext":{"slug":"/blog/instagram-widget/","previous":null,"next":null}}}